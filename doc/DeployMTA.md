# Deploy MTA

Had problems deploying the MTA, and because of that the core_db with the synonyms could not be build.
Check out community link with Thomas Jung response

[Link to the SAP community](https://answers.sap.com/questions/661771/error-building-core-db-with-cross-container-access.html?childToView=671786#answer-671786 "Steffen's community page")

Don't use `wget` or `curl` to download the file, use `git clone` instead. (I didn't fork it before, but cloned directly).

```
git clone https://github.com/SAP/com.sap.openSAP.hana5.templates.git
```
Then change the branch:
```
git checkout hana2_sps02
```
Then make sure you are in the correct deplyment target, i.e. correct space:
```
xs login -s development
```
Then deploy the MTA:
```
xs deploy openSAP.CentralDB_1.0.2017.mtar --use-namespaces
```

Then the process finishes, creates the required service:
```
Uploading 1 files:
 /hana/shared/HXE/HDB90/com.sap.openSAP.hana5.templates/ex2/openSAP.CentralDB_1.0.2017.mtar
File upload finished

Starting process xs2-deploy...
Starting monitoring...
 Validating parameters...
 Processing MTA archive...
 Processing MTA extension descriptors...
 Detecting MTA major schema version...
 MTA schema version: 3.1.0
 Detecting deploy target...
 Detected deploy target "HANAExpress development"
 Validating and merging descriptors...
 Detecting deployed MTA...
 No deployed MTA detected
 Collecting system parameters...
 New MTA version: 1.0.2017
 Building cloud deployment model...
 Building cloud undeployment model...
 Validating services to create...
 Validating applications to deploy...
 Adding domains...
 Deleting unused reserved routes...
 Creating or updating services...
 Creating service "openSAP.CentralDB.opensap-central-container"...
 Preparing applications deployment...
 Checking application "openSAP.CentralDB.db"...
 Application "openSAP.CentralDB.db" does not exist
 Creating application "openSAP.CentralDB.db"...
 Uploading application "openSAP.CentralDB.db"...
 Matched files count: 0
 Matched resources processed, total size is 0
 Upload status: finished
 Scaling application "openSAP.CentralDB.db"...
 Staging application "openSAP.CentralDB.db"...
 Node.js
 Node.js buildpack version 3.3.2
 Avoid using semver ranges starting with '>' in engines.node
 Available Node.js runtimes: node6.11,node4.8
 Npm install not needed - attempting partial runtime download
 Downloading Node.js...
 Unpacking Node.js archive...
 Omitting npm install: node_modules directory is already present and rebuild is not enabled, using dependencies as provided
 Copying SSL CA certificates...
 Application "openSAP.CentralDB.db" staged
 Executing task "deploy" on application "openSAP.CentralDB.db"...
 Task execution status: pending
 Task execution status: succeeded
 Publishing public provided dependencies for application "openSAP.CentralDB.db"...
 Creating subscriptions...
 Registering service URLs...
 Deleting discontinued subscriptions...
 Deleting discontinued published dependencies...
 Unregistering discontinued service URLs...
 Creating service brokers...
 Updating subscribers...
Process finished
```

Then the core_db can be build again and this time it works.

